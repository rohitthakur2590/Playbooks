---
- hosts: vyos
  gather_facts: yes
  module_defaults: 
    vyos_facts:
      gather_subset: default
      gather_network_resources:
        - static_routes     
  tasks:
    - name: Replace device configurations of listed static routes with provided configurations
      vyos_static_routes: &replaced
          config:
            - address_families:
              - afi: 'ipv4'
                routes:
                  - dest: 192.0.0.0/24
                    blackhole_config:
                      distance: 2
                    next_hops:
                      - forward_router_address: 192.1.1.11
                      - forward_router_address: 192.11.11.12
                      - forward_router_address: 192.3.3.13
          state: replaced
      tags:
        - conf
